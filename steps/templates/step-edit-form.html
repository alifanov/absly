{% load widget_tweaks %}

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">{{ step_form.instance.title }}</h4>
</div>
<form method="post" id="step-edit-modal-form" action="/steps/edit/{{ step.pk }}/">
    <input name="csrfmiddlewaretoken" value="{{ csrf_token_value }}" type="hidden" />
    <div class="modal-body">
        <div class="row">
            <div class="col-xs-3">
                <!-- Nav tabs -->
                <ul class="nav nav-stacked tabs" role="tablist">
                  <li class="active"><a href="#general" role="tab" data-toggle="tab">General</a></li>
                  <li><a href="#description" role="tab" data-toggle="tab">Description</a></li>
{#                  <li><a href="#discussion" role="tab" data-toggle="tab">Discussion</a></li>#}
                  <li><a href="#target" role="tab" data-toggle="tab">Target</a></li>
                </ul>
            </div>
            <div class="col-xs-9">
                <!-- Tab panes -->
                <div class="tab-content">
                  <div class="tab-pane active" id="general">
                      <div class="form-group">
                          <label>Title</label>
                          {{ step_form.title|add_class:"form-control" }}
                      </div>
                      <div class="form-group">
                          <label>Deadline for step</label>
                          {{ step_form.deadline|add_class:"form-control" }}
                      </div>
                      <div class="form-group">
                          <label>BM Canvas element</label>
                          {{ step_form.element|add_class:"form-control" }}
                      </div>
                      <div class="form-group">
                          <label>Direction</label>
                          {{ step_form.type|add_class:"form-control" }}
                      </div>
                  </div>
                  <div class="tab-pane" id="description">
                      <div class="form-group">
                          <label>Description</label>
                          {{ step_form.desc|add_class:"form-control" }}
                      </div>
                  </div>
{#                  <div class="tab-pane" id="discussion">...</div>#}
                  <div class="tab-pane" id="target">
                          <div class="form-group">
                            <label>Target for step</label>
                            <div>
                                {{ step_form.target_metrics|add_class:"form-control"|attr:"placeholder:Цель по завершении шага" }}
                            </div>
                            <div style="margin-top: 10px;">
                                {{ step_form.target_metrics_limit|add_class:"form-control"|attr:"placeholder:Количественный показатель цели" }}
                            </div>
                            <div style="margin-top: 10px;">
                                {{ step_form.target_metrics_current|add_class:"form-control"|attr:"placeholder:Текущее значение" }}
                            </div>
                        </div>

                  </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger step-delete pull-left" value="{{ step.pk }}" data-dismiss="modal">Delete</button>
        <button type="button" class="btn btn-success step-done" value="{{ step.pk }}" data-dismiss="modal">Done</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary step-save" name="save" value="1">Save</button>
    </div>
</form>


