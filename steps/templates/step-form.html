{% load widget_tweaks %}

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Add new step</h4>
</div>
<form method="post" id="step-view-modal-form" action="/steps/add/">
    <input name="csrfmiddlewaretoken" value="{{ csrf_token_value }}" type="hidden" />
    <div class="modal-body">
      <div class="form-group">
          <label>1. Add title</label>
          {{ step_form.title|add_class:"form-control" }}
      </div>
      <div class="form-group">
          <label>2. Add description</label>
          {{ step_form.desc|add_class:"form-control" }}
      </div>
      <div class="form-group">
          <label>3. Add deadline for step</label>
          <div id="datetimepicker1" class="input-group date">
              {{ step_form.deadline|add_class:"form-control"|attr:"date-format:dd/MM/yyyy hh:mm:ss" }}
              <span class="add-on input-group-addon">
                  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
                  </i>
                </span>
          </div>
      </div>
      <div class="form-group">
          <label>4. Choose BM Canvas element</label>
          {{ step_form.element|add_class:"form-control" }}
      </div>
      <div class="form-group">
          <label>5. Choose direction</label>
          {{ step_form.type|add_class:"form-control" }}
      </div>
        <div class="form-group">
            <label>6. Set target for step</label>
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li class="active"><a href="#metrics_target" role="tab" data-toggle="tab">Metrics target</a></li>
              <li><a href="#custom_target" role="tab" data-toggle="tab">Custom target</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
              <div class="tab-pane active" id="metrics_target">
                  <div class="form-group">
                      <label>Metrics</label>
                      {{ step_form.target_metrics|add_class:"form-control" }}
                  </div>
                  <div class="form-group">
                      <label>Metrics Limit</label>
                      {{ step_form.target_metrics_limit|add_class:"form-control" }}
                  </div>
              </div>
              <div class="tab-pane" id="custom_target">
                  <div class="form-group">
                      <label>Target Name</label>
                      {{ step_form.target_custom|add_class:"form-control" }}
                  </div>
              </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary" name="add" value="1">Add</button>
    </div>
</form>


